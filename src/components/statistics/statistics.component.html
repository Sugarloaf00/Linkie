
<div class="w-full max-w-6xl mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold text-text-primary mb-8">Session Statistics</h1>

  <!-- Stat Cards -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
    <div class="bg-surface p-6 rounded-lg shadow-xl text-center">
      <h3 class="text-text-secondary text-sm font-medium uppercase tracking-wider">Total Links</h3>
      <p class="text-4xl font-bold text-primary mt-2">{{ totalLinks() }}</p>
    </div>
    <div class="bg-surface p-6 rounded-lg shadow-xl text-center">
      <h3 class="text-text-secondary text-sm font-medium uppercase tracking-wider">Total Votes</h3>
      <p class="text-4xl font-bold text-primary mt-2">{{ totalVotes() }}</p>
    </div>
    <div class="bg-surface p-6 rounded-lg shadow-xl text-center">
      <h3 class="text-text-secondary text-sm font-medium uppercase tracking-wider">Total Comments</h3>
      <p class="text-4xl font-bold text-primary mt-2">{{ totalComments() }}</p>
    </div>
  </div>

  <!-- Leaderboards -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
    <!-- Top Voted Links -->
    <div class="bg-surface p-6 rounded-lg shadow-xl">
      <h3 class="text-xl font-bold text-text-primary mb-4">Top Voted Links</h3>
      <ul class="space-y-4">
        @for (link of topVotedLinks(); track link.id) {
          <li class="flex items-center justify-between">
            <div class="truncate">
              <a [href]="link.url" target="_blank" class="text-text-primary hover:underline font-medium truncate">{{ link.title }}</a>
              <p class="text-text-secondary text-xs truncate">{{ link.url }}</p>
            </div>
            <div class="flex-shrink-0 ml-4 px-3 py-1 text-sm font-semibold rounded-full"
                 [class.bg-green-500/20]="getVoteScore(link) > 0"
                 [class.text-green-400]="getVoteScore(link) > 0"
                 [class.bg-red-500/20]="getVoteScore(link) < 0"
                 [class.text-red-400]="getVoteScore(link) < 0"
                 [class.bg-gray-500/20]="getVoteScore(link) === 0"
                 [class.text-gray-400]="getVoteScore(link) === 0">
              {{ getVoteScore(link) > 0 ? '+' : '' }}{{ getVoteScore(link) }}
            </div>
          </li>
        } @empty {
          <li class="text-text-secondary italic">No links have been voted on yet.</li>
        }
      </ul>
    </div>

    <!-- Most Active Users -->
    <div class="bg-surface p-6 rounded-lg shadow-xl">
      <h3 class="text-xl font-bold text-text-primary mb-4">Most Active Users</h3>
      <ul class="space-y-4">
        @for (activity of mostActiveUsers(); track activity.user.id) {
          <li class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              @if(activity.user.avatarUrl) {
                <img [src]="activity.user.avatarUrl" [alt]="activity.user.name" class="w-8 h-8 rounded-full">
              }
              <span class="text-text-primary font-medium">{{ activity.user.name }}</span>
            </div>
            <span class="text-text-secondary font-semibold">{{ activity.score }} points</span>
          </li>
        } @empty {
          <li class="text-text-secondary italic">No user activity recorded yet.</li>
        }
      </ul>
    </div>
  </div>
</div>